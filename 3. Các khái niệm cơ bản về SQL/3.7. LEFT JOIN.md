### I. Định nghĩa và Mục đích Cốt lõi của LEFT JOIN

1.  **Mục đích:** `LEFT JOIN` yêu cầu truy vấn kéo **tất cả các bản ghi** từ bảng được đặt ở "bên trái" của mệnh đề `JOIN`, và chỉ kéo các bản ghi khớp (matching records) từ bảng được đặt ở "bên phải" của `JOIN`, dựa trên tiêu chí được chỉ định trong mệnh đề `ON`.
2.  **Sự Thường Xuyên Sử Dụng:** Tác giả nhận thấy rằng `LEFT JOIN` là loại `JOIN` được sử dụng **thường xuyên nhất** khi xây dựng các tập dữ liệu phân tích (analytical datasets).
3.  **Vị trí Bảng:** Bảng được liệt kê đầu tiên sau mệnh đề `FROM` được coi là bảng "bên trái" (left table), và bảng được liệt kê sau từ khóa `LEFT JOIN` được coi là bảng "bên phải" (right table).

### II. Kết quả Đầu ra và Giá trị NULL

Nguyên tắc "Giữ tất cả các hàng từ bảng bên trái" có những hệ quả cụ thể đối với tập dữ liệu kết quả:

1.  **Dữ liệu từ Bảng Trái:** Tất cả các bản ghi từ bảng bên trái đều được đưa vào đầu ra.
2.  **Trường Hợp Không Khớp:** Nếu một hàng trong bảng bên trái **không có bản ghi khớp** trong bảng bên phải (dựa trên tiêu chí trong mệnh đề `ON`), các cột được chọn từ bảng bên phải sẽ có giá trị là **`NULL`** (trống),.
    *   *Ví dụ:* Khi `LEFT JOIN` bảng `customer_purchases` vào bảng `customer`, những khách hàng chưa từng mua hàng sẽ được đưa vào kết quả, nhưng các trường dữ liệu từ bảng `customer_purchases` sẽ là `NULL`,.
3.  **Dữ liệu từ Bảng Phải:** Các bản ghi từ bảng bên phải **chỉ được bao gồm** nếu chúng khớp với một bản ghi nào đó ở bảng bên trái. Nếu có một bản ghi trong bảng bên phải không có hàng khớp trong bảng bên trái, bản ghi đó sẽ **không** được đưa vào kết quả,.

### III. Cú pháp và Cách Tham Chiếu

Cú pháp để thực hiện `LEFT JOIN` như sau:

```sql
SELECT [columns to return]
FROM [left table]
LEFT JOIN [right table]
ON [left table].[field in left table to match] = [right table].[field in right table to match]
```
Mệnh đề `ON` xác định các trường khóa chính/khóa ngoại được sử dụng để khớp các hàng giữa hai bảng,.

### IV. Cảnh báo Quan trọng khi Lọc Dữ liệu đã JOIN

Một **lỗi phổ biến** và quan trọng cần tránh khi sử dụng `LEFT JOIN` là áp dụng bộ lọc (`WHERE clause`) không đúng cách.

1.  **Nguy cơ Chuyển đổi thành INNER JOIN:** Nếu bạn sử dụng `LEFT JOIN` với mục đích giữ lại tất cả các hàng từ bảng bên trái, nhưng sau đó lại áp dụng một bộ lọc (`WHERE clause`) trên bất kỳ trường nào từ bảng "bên phải" mà **không cho phép giá trị `NULL`** cho trường đó, bạn sẽ vô tình loại bỏ các hàng không có kết quả khớp. Điều này làm cho truy vấn trả về kết quả giống như một **`INNER JOIN`**.
2.  **Cách khắc phục:** Để giữ lại các hàng từ bảng bên trái ngay cả khi không có kết quả khớp từ bảng bên phải, cần viết mệnh đề `WHERE` cho phép giá trị `NULL` trong trường lọc từ bảng bên phải.
    *   *Ví dụ:* Nếu bạn muốn lọc các giao dịch ngoại trừ một ngày cụ thể nhưng vẫn giữ lại khách hàng chưa từng mua hàng, bạn phải sử dụng điều kiện `WHERE (cp.market_date <> '2019-03-02' OR cp.market_date IS NULL)` để cho phép những hàng không khớp (`cp.market_date` là `NULL`) vẫn được đưa vào.

### V. Ứng dụng trong Xây dựng Tập dữ liệu Phân tích

`LEFT JOIN` là kỹ thuật cơ bản để kết hợp dữ liệu từ nhiều bảng nhằm phục vụ phân tích:

1.  **Trích xuất Dữ liệu Tổng hợp:** Trong các ứng dụng học máy, cách tiếp cận phổ biến là có một bảng "chính" (`primary table`) chứa một hàng cho mỗi bản ghi thực thể (ví dụ: một hàng cho mỗi khách hàng). Nhiều bảng khác sau đó được **`LEFT JOIN`** vào bảng chính này để kéo thêm dữ liệu bổ sung.
2.  **Duy trì Granularity (Mức độ Chi tiết):** `LEFT JOIN` được chọn để đảm bảo rằng mức độ chi tiết của bảng chính (bảng bên trái) được duy trì trong tập dữ liệu kết quả, ngay cả khi các bảng phụ không có dữ liệu để khớp,. Điều này cho phép người dùng tính toán và tóm tắt dữ liệu từ các bảng phụ (bảng bên phải) dưới dạng đếm hoặc tính tổng mà không làm thay đổi số lượng bản ghi cơ bản của bảng chính.
3.  **Ưu tiên Lựa chọn Bảng Trái:** Khi so sánh doanh số bán hàng (`customer_purchases`) với hàng tồn kho (`vendor_inventory`), bảng tồn kho được chọn làm bảng bên trái (`LEFT JOIN`) vì "một khách hàng không thể mua hàng tồn kho không tồn tại," nhưng có thể có hàng tồn kho không được mua.